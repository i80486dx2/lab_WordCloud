[
    {
        "client_msg_id": "c5ba8847-0060-4ebc-b671-9eb811191d29",
        "type": "message",
        "text": "バックエンド覚え書き\n• GCPの契約料：月額8,000目安\n    ◦ 新アカウント作成（3か月分のトライアル無料）\n• データ更新時にデータベース内のツイート群にRT数を加算する処理について検討中\n• そのうち FastAPI を Heroku から GCP へ移動（フロントも）\nフロントエンド覚え書き\n• 検索クエリー（ハッシュタグ）の入力に伴うデータと描画の更新のタイミングにいくつか問題があり、その解決\n• 他の種類の描画コンポーネントをいくつか試せないか。\n• Tweetリスト表示の部分を分離して別途検討（吉野君）",
        "user": "UKS1Q2KTQ",
        "ts": "1620893149.067700",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "g2cdaa6f0a3e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/72cdaa6f0a3e75d134cc6b97d821b078.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png",
            "first_name": "Yasuhiro",
            "real_name": "Yasuhiro Hashimoto",
            "display_name": "hashimoto",
            "team": "TKS1Q2JUE",
            "name": "yasuhirohashimoto",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "edited": {
            "user": "UKS1Q2KTQ",
            "ts": "1620896168.000000"
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "57ah",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "バックエンド覚え書き\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "GCPの契約料：月額8,000目安"
                                    }
                                ]
                            }
                        ],
                        "style": "bullet",
                        "indent": 0
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "新アカウント作成（3か月分のトライアル無料）"
                                    }
                                ]
                            }
                        ],
                        "style": "bullet",
                        "indent": 1
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "データ更新時にデータベース内のツイート群にRT数を加算する処理について検討中"
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "そのうち FastAPI を Heroku から GCP へ移動（フロントも）"
                                    }
                                ]
                            }
                        ],
                        "style": "bullet",
                        "indent": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\nフロントエンド覚え書き\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "検索クエリー（ハッシュタグ）の入力に伴うデータと描画の更新のタイミングにいくつか問題があり、その解決"
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "他の種類の描画コンポーネントをいくつか試せないか。"
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "Tweetリスト表示の部分を分離して別途検討（吉野君）"
                                    }
                                ]
                            }
                        ],
                        "style": "bullet",
                        "indent": 0
                    }
                ]
            }
        ]
    },
    {
        "client_msg_id": "a82e5e47-c376-44a7-960f-42fce66bf4d3",
        "type": "message",
        "text": "<https:\/\/github.com\/hond0413\/InfodemicAppv3>\n多分オープンになってると思われます",
        "user": "U01EL0SAUTF",
        "ts": "1620896332.069300",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "97f546e52313",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-11-13\/1499146897842_97f546e523132e359093_72.png",
            "first_name": "Honda",
            "real_name": "Honda Daiki",
            "display_name": "daiki",
            "team": "TKS1Q2JUE",
            "name": "s1270123",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "edited": {
            "user": "U01EL0SAUTF",
            "ts": "1620909325.000000"
        },
        "attachments": [
            {
                "fallback": "hond0413\/InfodemicApp",
                "title": "hond0413\/InfodemicApp",
                "footer": "<https:\/\/github.com\/hond0413\/InfodemicApp|hond0413\/InfodemicApp>",
                "id": 1,
                "footer_icon": "https:\/\/github.githubassets.com\/favicon.ico",
                "ts": 1613721569,
                "color": "24292f",
                "fields": [
                    {
                        "title": "Last updated",
                        "value": "3 months ago",
                        "short": true
                    }
                ],
                "mrkdwn_in": [
                    "text",
                    "fields"
                ],
                "bot_id": "B01QCF76BDE",
                "app_unfurl_url": "https:\/\/github.com\/hond0413\/InfodemicApp",
                "is_app_unfurl": true
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "WVv2L",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/hond0413\/InfodemicAppv3"
                            },
                            {
                                "type": "text",
                                "text": "\n多分オープンになってると思われます"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "man-bowing",
                "users": [
                    "U01KC41PR9C"
                ],
                "count": 1
            },
            {
                "name": "+1",
                "users": [
                    "UKS1Q2KTQ"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "text": "今更気が付きましたが、元データ(.pkl.xz)からすでにデータが省略されています。\n本文が省略されているツイートが散見されたのでElasticsearch挿入段階や前処理で省略されたものと思い、原因究明にあたっていました。\n(画像のような感じ)\n\nこれは、TwitterAPI(Twitter OAuth)の設定が、ツイート文字数140字以上を省略するようになっているためらしいです。\n過去の記事ではありますが参考にしたURLを貼ります。\nそれによると、\"tweet_mode=extended\"を追加してツイートを取得すれば解決するようです。\n\n参考: <http:\/\/nyan4.hatenablog.com\/entry\/2017\/07\/10\/193221>",
        "files": [
            {
                "id": "F021PQ09BSS",
                "created": 1620960823,
                "timestamp": 1620960823,
                "name": "スクリーンショット 2021-05-14 115319.png",
                "title": "スクリーンショット 2021-05-14 115319.png",
                "mimetype": "image\/png",
                "filetype": "png",
                "pretty_type": "PNG",
                "user": "U01KC41PR9C",
                "editable": false,
                "size": 38554,
                "mode": "hosted",
                "is_external": false,
                "external_type": "",
                "is_public": true,
                "public_url_shared": false,
                "display_as_bot": false,
                "username": "",
                "url_private": "https:\/\/files.slack.com\/files-pri\/TKS1Q2JUE-F021PQ09BSS\/____________________________2021-05-14_115319.png?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                "url_private_download": "https:\/\/files.slack.com\/files-pri\/TKS1Q2JUE-F021PQ09BSS\/download\/____________________________2021-05-14_115319.png?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                "media_display_type": "unknown",
                "thumb_64": "https:\/\/files.slack.com\/files-tmb\/TKS1Q2JUE-F021PQ09BSS-4cad0a2b69\/____________________________2021-05-14_115319_64.png?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                "thumb_80": "https:\/\/files.slack.com\/files-tmb\/TKS1Q2JUE-F021PQ09BSS-4cad0a2b69\/____________________________2021-05-14_115319_80.png?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                "thumb_360": "https:\/\/files.slack.com\/files-tmb\/TKS1Q2JUE-F021PQ09BSS-4cad0a2b69\/____________________________2021-05-14_115319_360.png?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                "thumb_360_w": 360,
                "thumb_360_h": 100,
                "thumb_480": "https:\/\/files.slack.com\/files-tmb\/TKS1Q2JUE-F021PQ09BSS-4cad0a2b69\/____________________________2021-05-14_115319_480.png?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                "thumb_480_w": 480,
                "thumb_480_h": 133,
                "thumb_160": "https:\/\/files.slack.com\/files-tmb\/TKS1Q2JUE-F021PQ09BSS-4cad0a2b69\/____________________________2021-05-14_115319_160.png?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                "thumb_720": "https:\/\/files.slack.com\/files-tmb\/TKS1Q2JUE-F021PQ09BSS-4cad0a2b69\/____________________________2021-05-14_115319_720.png?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                "thumb_720_w": 720,
                "thumb_720_h": 199,
                "thumb_800": "https:\/\/files.slack.com\/files-tmb\/TKS1Q2JUE-F021PQ09BSS-4cad0a2b69\/____________________________2021-05-14_115319_800.png?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                "thumb_800_w": 800,
                "thumb_800_h": 221,
                "thumb_960": "https:\/\/files.slack.com\/files-tmb\/TKS1Q2JUE-F021PQ09BSS-4cad0a2b69\/____________________________2021-05-14_115319_960.png?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                "thumb_960_w": 960,
                "thumb_960_h": 266,
                "thumb_1024": "https:\/\/files.slack.com\/files-tmb\/TKS1Q2JUE-F021PQ09BSS-4cad0a2b69\/____________________________2021-05-14_115319_1024.png?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                "thumb_1024_w": 1024,
                "thumb_1024_h": 284,
                "original_w": 1275,
                "original_h": 353,
                "thumb_tiny": "AwANADCAcKDjNRnr0\/SpB90fSoznPWgAoz9KSigBc0ZpKKAP\/9k=",
                "permalink": "https:\/\/css-uoa.slack.com\/files\/U01KC41PR9C\/F021PQ09BSS\/____________________________2021-05-14_115319.png",
                "permalink_public": "https:\/\/slack-files.com\/TKS1Q2JUE-F021PQ09BSS-c1e6cf949d",
                "is_starred": false,
                "has_rich_preview": false
            }
        ],
        "upload": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "pg+H",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "今更気が付きましたが、元データ(.pkl.xz)からすでにデータが省略されています。\n本文が省略されているツイートが散見されたのでElasticsearch挿入段階や前処理で省略されたものと思い、原因究明にあたっていました。\n(画像のような感じ)\n\nこれは、TwitterAPI(Twitter OAuth)の設定が、ツイート文字数140字以上を省略するようになっているためらしいです。\n過去の記事ではありますが参考にしたURLを貼ります。\nそれによると、\"tweet_mode=extended\"を追加してツイートを取得すれば解決するようです。\n\n参考: "
                            },
                            {
                                "type": "link",
                                "url": "http:\/\/nyan4.hatenablog.com\/entry\/2017\/07\/10\/193221"
                            }
                        ]
                    }
                ]
            }
        ],
        "user": "U01KC41PR9C",
        "display_as_bot": false,
        "ts": "1620960856.077000",
        "thread_ts": "1620960856.077000",
        "reply_count": 8,
        "reply_users_count": 3,
        "latest_reply": "1620970452.082000",
        "reply_users": [
            "UKS1Q2KTQ",
            "U01KC41PR9C",
            "U01EL0SAUTF"
        ],
        "replies": [
            {
                "user": "UKS1Q2KTQ",
                "ts": "1620960934.077300"
            },
            {
                "user": "U01KC41PR9C",
                "ts": "1620960990.077500"
            },
            {
                "user": "UKS1Q2KTQ",
                "ts": "1620961051.077700"
            },
            {
                "user": "UKS1Q2KTQ",
                "ts": "1620963354.078000"
            },
            {
                "user": "U01KC41PR9C",
                "ts": "1620963401.078200"
            },
            {
                "user": "U01KC41PR9C",
                "ts": "1620963627.078400"
            },
            {
                "user": "UKS1Q2KTQ",
                "ts": "1620963659.078600"
            },
            {
                "user": "U01EL0SAUTF",
                "ts": "1620970452.082000"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1620970452.082000",
        "reactions": [
            {
                "name": "eyes",
                "users": [
                    "U01EL0SAUTF"
                ],
                "count": 1
            }
        ]
    },
    {
        "client_msg_id": "8cf3e944-a360-4c40-b72e-352efab751df",
        "type": "message",
        "text": "<@U01KC41PR9C> ナイス情報！笹原さんに伝えます。\n&gt; \"tweet_mode=extended\"を追加してツイートを取得すれば解決するようです。",
        "user": "UKS1Q2KTQ",
        "ts": "1620960934.077300",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "g2cdaa6f0a3e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/72cdaa6f0a3e75d134cc6b97d821b078.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png",
            "first_name": "Yasuhiro",
            "real_name": "Yasuhiro Hashimoto",
            "display_name": "hashimoto",
            "team": "TKS1Q2JUE",
            "name": "yasuhirohashimoto",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "A0SvP",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U01KC41PR9C"
                            },
                            {
                                "type": "text",
                                "text": " ナイス情報！笹原さんに伝えます。\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_quote",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\"tweet_mode=extended\"を追加してツイートを取得すれば解決するようです。"
                            }
                        ]
                    }
                ]
            }
        ],
        "thread_ts": "1620960856.077000",
        "parent_user_id": "U01KC41PR9C"
    },
    {
        "client_msg_id": "0ec3d46d-6ba6-4964-a680-b8a28814618b",
        "type": "message",
        "text": "ありがとうございます！\nまた、可能でしたらTwitterAPIを叩くときに付加しているオプションがあれば知りたいです",
        "user": "U01KC41PR9C",
        "ts": "1620960990.077500",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "5ab4b4b51ee4",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-01-23\/1653062663351_5ab4b4b51ee430a5e180_72.jpg",
            "first_name": "Tomoaki",
            "real_name": "Tomoaki Yoshino",
            "display_name": "yoshino",
            "team": "TKS1Q2JUE",
            "name": "t409828543087",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "2epSr",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "ありがとうございます！\nまた、可能でしたらTwitterAPIを叩くときに付加しているオプションがあれば知りたいです"
                            }
                        ]
                    }
                ]
            }
        ],
        "thread_ts": "1620960856.077000",
        "parent_user_id": "U01KC41PR9C"
    },
    {
        "client_msg_id": "643542d2-aef6-4da6-af10-5c3f5d25d6a3",
        "type": "message",
        "text": "それも一応聞いてみます。たぶんストレージの節約で .pkl.xz にする際に一部データを除いてるかもしれず。",
        "user": "UKS1Q2KTQ",
        "ts": "1620961051.077700",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "g2cdaa6f0a3e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/72cdaa6f0a3e75d134cc6b97d821b078.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png",
            "first_name": "Yasuhiro",
            "real_name": "Yasuhiro Hashimoto",
            "display_name": "hashimoto",
            "team": "TKS1Q2JUE",
            "name": "yasuhirohashimoto",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "7xe",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "それも一応聞いてみます。たぶんストレージの節約で .pkl.xz にする際に一部データを除いてるかもしれず。"
                            }
                        ]
                    }
                ]
            }
        ],
        "thread_ts": "1620960856.077000",
        "parent_user_id": "U01KC41PR9C",
        "reactions": [
            {
                "name": "man-gesturing-ok",
                "users": [
                    "U01KC41PR9C"
                ],
                "count": 1
            }
        ]
    },
    {
        "client_msg_id": "6301a1c0-2423-452e-ae15-f5a0d8954950",
        "type": "message",
        "text": "<@U01KC41PR9C>\n1. \"tweet_mode=extended\" の件、今年の3月以降はその設定で収集しているとのことです。\n2. ツイートのクローリングはTweepyを使っているようで、引数は以下とのこと：\n    ◦ tweepy.Cursor(api.search, q=query, result_type=\"recent\", include_entities=True, tweet_mode='extended', count=100).items()",
        "user": "UKS1Q2KTQ",
        "ts": "1620963354.078000",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "g2cdaa6f0a3e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/72cdaa6f0a3e75d134cc6b97d821b078.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png",
            "first_name": "Yasuhiro",
            "real_name": "Yasuhiro Hashimoto",
            "display_name": "hashimoto",
            "team": "TKS1Q2JUE",
            "name": "yasuhirohashimoto",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "0cvU",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U01KC41PR9C"
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "\"tweet_mode=extended\" の件、今年の3月以降はその設定で収集しているとのことです。"
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "ツイートのクローリングはTweepyを使っているようで、引数は以下とのこと："
                                    }
                                ]
                            }
                        ],
                        "style": "ordered",
                        "indent": 0
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "tweepy.Cursor(api.search, q=query, result_type=\"recent\", include_entities=True, tweet_mode='extended', count=100).items()"
                                    }
                                ]
                            }
                        ],
                        "style": "bullet",
                        "indent": 1
                    }
                ]
            }
        ],
        "thread_ts": "1620960856.077000",
        "parent_user_id": "U01KC41PR9C"
    },
    {
        "client_msg_id": "416067a5-ece4-4710-9d30-63c6a45bdf24",
        "type": "message",
        "text": "ありがとうございます！",
        "user": "U01KC41PR9C",
        "ts": "1620963401.078200",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "5ab4b4b51ee4",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-01-23\/1653062663351_5ab4b4b51ee430a5e180_72.jpg",
            "first_name": "Tomoaki",
            "real_name": "Tomoaki Yoshino",
            "display_name": "yoshino",
            "team": "TKS1Q2JUE",
            "name": "t409828543087",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "XQs",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "ありがとうございます！"
                            }
                        ]
                    }
                ]
            }
        ],
        "thread_ts": "1620960856.077000",
        "parent_user_id": "U01KC41PR9C"
    },
    {
        "client_msg_id": "34aabfd6-5464-4722-8e1c-ef7725021f75",
        "type": "message",
        "text": "2020年のツイートは、本文が省略されたまま使用でよろしいですか？",
        "user": "U01KC41PR9C",
        "ts": "1620963627.078400",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "5ab4b4b51ee4",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-01-23\/1653062663351_5ab4b4b51ee430a5e180_72.jpg",
            "first_name": "Tomoaki",
            "real_name": "Tomoaki Yoshino",
            "display_name": "yoshino",
            "team": "TKS1Q2JUE",
            "name": "t409828543087",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Xt\/gD",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "2020年のツイートは、本文が省略されたまま使用でよろしいですか？"
                            }
                        ]
                    }
                ]
            }
        ],
        "thread_ts": "1620960856.077000",
        "parent_user_id": "U01KC41PR9C"
    },
    {
        "client_msg_id": "3dfe555d-cdb6-4714-9b2b-083b556659ba",
        "type": "message",
        "text": "<@U01KC41PR9C> はい、その辺はもうしょうがないかな。",
        "user": "UKS1Q2KTQ",
        "ts": "1620963659.078600",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "g2cdaa6f0a3e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/72cdaa6f0a3e75d134cc6b97d821b078.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png",
            "first_name": "Yasuhiro",
            "real_name": "Yasuhiro Hashimoto",
            "display_name": "hashimoto",
            "team": "TKS1Q2JUE",
            "name": "yasuhirohashimoto",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Sln",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U01KC41PR9C"
                            },
                            {
                                "type": "text",
                                "text": " はい、その辺はもうしょうがないかな。"
                            }
                        ]
                    }
                ]
            }
        ],
        "thread_ts": "1620960856.077000",
        "parent_user_id": "U01KC41PR9C",
        "reactions": [
            {
                "name": "man-gesturing-ok",
                "users": [
                    "U01KC41PR9C"
                ],
                "count": 1
            }
        ]
    },
    {
        "client_msg_id": "ce3d1e2a-49cb-4372-8226-90c1d6a1867a",
        "type": "message",
        "text": "<@UPSPAP97D> 宮崎さんから返信きました。hiromu君のやりかたで5万ノードになるくらい、というのであってそうです。宮崎さんはそこからさらに k-core =3（連結グラフ内のノードがすべて次数3以上）という処理をして、つながりの薄いノードを削除しています。その結果が1万程度です。\n\n～～～以下引用～～～\n• 期間\n    ◦ 2〜12月まで\n• 日本語\n    ◦ tmp_df = tmp_df[tmp_df[“lang”] == “ja”]\n• textが空欄のデータを削除\n    ◦ tmp_df = tmp_df[tmp_df[“text”].notnull()]\n• ワクチンを含むtweetを取得\n    ◦ tmp_df = tmp_df[tmp_df[“text”].str.contains(“ワクチン“)]\n（この時点で1,952,376tweetになっています。ここからネットワークを作成します）\n• （相互に1回ずつを含めて）2回以上のRTがあるユーザペアを抽出します。\n    ◦ （↓ちょっとわかりにくいですが、前後をひっくり返したペアのリストを足した後、カウントが1回より大きいものだけを抽出してます）\n```tmp_pairs = [tuple(i) for i in tmp_df.loc[:, [\"user_screen_name\", \"retweeted_status_screen_name\"]].values]\ntmp_pairs = tmp_pairs + [tuple([i[1], i[0]]) for i in tmp_pairs]\n# RTが2回以上のもの（相互に1回ずつも含む）\ntmp_valuecounts = pd.Series(tmp_pairs).value_counts()\ntmp_tmp_pairs = tmp_valuecounts[tmp_valuecounts &gt; 1].index\ntmp_tmp_pairs  = set(tmp_tmp_pairs)\nunique_pair = [tuple(i) for i in tmp_df.loc[:, [\"user_screen_name\", \"retweeted_status_screen_name\"]].values]\nunique_pair = set(pd.Series(unique_pair)[pd.Series(unique_pair).isin(tmp_tmp_pairs)].values)```\nこの時点でunique_pairの長さが118,385になっています。\nこのunique_pairをnetworkxに加え、ネットワークを作成します。\n• 最後にk-core=3で、つながりの薄いノードを消しています。\n```# ネットワークを作成\nG = nx.DiGraph()\nG.add_edges_from(unique_pair)\nG1 = nx.k_core(G,k=3)```\nこれでノード数（len(G1.nodes()）が12,017になってました\n～～～引用ここまで～～～",
        "user": "UKS1Q2KTQ",
        "ts": "1620970176.081800",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "g2cdaa6f0a3e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/72cdaa6f0a3e75d134cc6b97d821b078.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png",
            "first_name": "Yasuhiro",
            "real_name": "Yasuhiro Hashimoto",
            "display_name": "hashimoto",
            "team": "TKS1Q2JUE",
            "name": "yasuhirohashimoto",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Bsc",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "UPSPAP97D"
                            },
                            {
                                "type": "text",
                                "text": " 宮崎さんから返信きました。hiromu君のやりかたで5万ノードになるくらい、というのであってそうです。宮崎さんはそこからさらに k-core =3（連結グラフ内のノードがすべて次数3以上）という処理をして、つながりの薄いノードを削除しています。その結果が1万程度です。\n\n～～～以下引用～～～\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "期間"
                                    }
                                ]
                            }
                        ],
                        "style": "bullet",
                        "indent": 0
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "2〜12月まで"
                                    }
                                ]
                            }
                        ],
                        "style": "bullet",
                        "indent": 1
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "日本語"
                                    }
                                ]
                            }
                        ],
                        "style": "bullet",
                        "indent": 0
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "tmp_df = tmp_df[tmp_df[“lang”] == “ja”]"
                                    }
                                ]
                            }
                        ],
                        "style": "bullet",
                        "indent": 1
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "textが空欄のデータを削除"
                                    }
                                ]
                            }
                        ],
                        "style": "bullet",
                        "indent": 0
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "tmp_df = tmp_df[tmp_df[“text”].notnull()]"
                                    }
                                ]
                            }
                        ],
                        "style": "bullet",
                        "indent": 1
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "ワクチンを含むtweetを取得"
                                    }
                                ]
                            }
                        ],
                        "style": "bullet",
                        "indent": 0
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "tmp_df = tmp_df[tmp_df[“text”].str.contains(“ワクチン“)]"
                                    }
                                ]
                            }
                        ],
                        "style": "bullet",
                        "indent": 1
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "（この時点で1,952,376tweetになっています。ここからネットワークを作成します）\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "（相互に1回ずつを含めて）2回以上のRTがあるユーザペアを抽出します。"
                                    }
                                ]
                            }
                        ],
                        "style": "bullet",
                        "indent": 0
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "（↓ちょっとわかりにくいですが、前後をひっくり返したペアのリストを足した後、カウントが1回より大きいものだけを抽出してます）"
                                    }
                                ]
                            }
                        ],
                        "style": "bullet",
                        "indent": 1
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "tmp_pairs = [tuple(i) for i in tmp_df.loc[:, [\"user_screen_name\", \"retweeted_status_screen_name\"]].values]\ntmp_pairs = tmp_pairs + [tuple([i[1], i[0]]) for i in tmp_pairs]\n# RTが2回以上のもの（相互に1回ずつも含む）\ntmp_valuecounts = pd.Series(tmp_pairs).value_counts()\ntmp_tmp_pairs = tmp_valuecounts[tmp_valuecounts > 1].index\ntmp_tmp_pairs  = set(tmp_tmp_pairs)\nunique_pair = [tuple(i) for i in tmp_df.loc[:, [\"user_screen_name\", \"retweeted_status_screen_name\"]].values]\nunique_pair = set(pd.Series(unique_pair)[pd.Series(unique_pair).isin(tmp_tmp_pairs)].values)"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "この時点でunique_pairの長さが118,385になっています。\nこのunique_pairをnetworkxに加え、ネットワークを作成します。\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "最後にk-core=3で、つながりの薄いノードを消しています。"
                                    }
                                ]
                            }
                        ],
                        "style": "bullet",
                        "indent": 0
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "# ネットワークを作成\nG = nx.DiGraph()\nG.add_edges_from(unique_pair)\nG1 = nx.k_core(G,k=3)"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "これでノード数（len(G1.nodes()）が12,017になってました\n～～～引用ここまで～～～"
                            }
                        ]
                    }
                ]
            }
        ],
        "thread_ts": "1620970176.081800",
        "reply_count": 1,
        "reply_users_count": 1,
        "latest_reply": "1620973093.082300",
        "reply_users": [
            "UPSPAP97D"
        ],
        "replies": [
            {
                "user": "UPSPAP97D",
                "ts": "1620973093.082300"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1620973093.082300"
    },
    {
        "client_msg_id": "3cc3b48c-44d0-42cc-ad3c-25d00fc866a2",
        "type": "message",
        "text": "<@U01KC41PR9C>\n僕も表示の際にheight設定とかしてて省略されてるのかと思ってました...。\nそういうことだったんですね。",
        "user": "U01EL0SAUTF",
        "ts": "1620970452.082000",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "97f546e52313",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-11-13\/1499146897842_97f546e523132e359093_72.png",
            "first_name": "Honda",
            "real_name": "Honda Daiki",
            "display_name": "daiki",
            "team": "TKS1Q2JUE",
            "name": "s1270123",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "dFvg",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U01KC41PR9C"
                            },
                            {
                                "type": "text",
                                "text": "\n僕も表示の際にheight設定とかしてて省略されてるのかと思ってました...。\nそういうことだったんですね。"
                            }
                        ]
                    }
                ]
            }
        ],
        "thread_ts": "1620960856.077000",
        "parent_user_id": "U01KC41PR9C",
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U01KC41PR9C"
                ],
                "count": 1
            }
        ]
    },
    {
        "client_msg_id": "4b9eb38e-6ac3-4332-87e0-91da8532211a",
        "type": "message",
        "text": "<@UKS1Q2KTQ> ありがとうごさいます！\n試してみます。",
        "user": "UPSPAP97D",
        "ts": "1620973093.082300",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "b09c08e50940",
            "image_72": "https:\/\/avatars.slack-edge.com\/2019-11-15\/837678602742_b09c08e50940786c015b_72.png",
            "first_name": "村上",
            "real_name": "村上 弥夢",
            "display_name": "hiromu",
            "team": "TKS1Q2JUE",
            "name": "s1260166",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "60=",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "UKS1Q2KTQ"
                            },
                            {
                                "type": "text",
                                "text": " ありがとうごさいます！\n試してみます。"
                            }
                        ]
                    }
                ]
            }
        ],
        "thread_ts": "1620970176.081800",
        "parent_user_id": "UKS1Q2KTQ"
    }
]