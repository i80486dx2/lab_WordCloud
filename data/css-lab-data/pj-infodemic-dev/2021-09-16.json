[
    {
        "type": "message",
        "text": "<@UKS1Q2KTQ> 言語別ツイート数をcsvにまとめました。(ノートPCで4時間...)\n日本語とその他の言語比率は以下のようになっています。\n```日本語:その他 = 123,444,335:780,141,597 ≒ 1:6.5```\ncsvは言語コード別でカウントしてありますので、気になればご確認ください。",
        "files": [
            {
                "id": "F02EP3Y0KM1",
                "created": 1631799519,
                "timestamp": 1631799519,
                "name": "tweetCountByLang.csv",
                "title": "tweetCountByLang.csv",
                "mimetype": "text\/csv",
                "filetype": "csv",
                "pretty_type": "CSV",
                "user": "U01KC41PR9C",
                "editable": true,
                "size": 111982,
                "mode": "snippet",
                "is_external": false,
                "external_type": "",
                "is_public": true,
                "public_url_shared": false,
                "display_as_bot": false,
                "username": "",
                "url_private": "https:\/\/files.slack.com\/files-pri\/TKS1Q2JUE-F02EP3Y0KM1\/tweetcountbylang.csv?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                "url_private_download": "https:\/\/files.slack.com\/files-pri\/TKS1Q2JUE-F02EP3Y0KM1\/download\/tweetcountbylang.csv?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                "permalink": "https:\/\/css-uoa.slack.com\/files\/U01KC41PR9C\/F02EP3Y0KM1\/tweetcountbylang.csv",
                "permalink_public": "https:\/\/slack-files.com\/TKS1Q2JUE-F02EP3Y0KM1-5ad2224743",
                "edit_link": "https:\/\/css-uoa.slack.com\/files\/U01KC41PR9C\/F02EP3Y0KM1\/tweetcountbylang.csv\/edit",
                "is_starred": false,
                "has_rich_preview": false
            }
        ],
        "upload": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "bdDiJ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "UKS1Q2KTQ"
                            },
                            {
                                "type": "text",
                                "text": " 言語別ツイート数をcsvにまとめました。(ノートPCで4時間...)\n日本語とその他の言語比率は以下のようになっています。\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "日本語:その他 = 123,444,335:780,141,597 ≒ 1:6.5"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "csvは言語コード別でカウントしてありますので、気になればご確認ください。"
                            }
                        ]
                    }
                ]
            }
        ],
        "user": "U01KC41PR9C",
        "display_as_bot": false,
        "ts": "1631799691.028300",
        "edited": {
            "user": "U01KC41PR9C",
            "ts": "1631800261.000000"
        },
        "reactions": [
            {
                "name": "pray",
                "users": [
                    "UKS1Q2KTQ"
                ],
                "count": 1
            }
        ]
    },
    {
        "client_msg_id": "e1adb817-977f-48c6-883d-3d8050886326",
        "type": "message",
        "text": "全てのデータをElasticsearchに入れるとなると、概算で$220\/月になりそうです。",
        "user": "U01KC41PR9C",
        "ts": "1631800464.029800",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "5ab4b4b51ee4",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-01-23\/1653062663351_5ab4b4b51ee430a5e180_72.jpg",
            "first_name": "Tomoaki",
            "real_name": "Tomoaki Yoshino",
            "display_name": "yoshino",
            "team": "TKS1Q2JUE",
            "name": "t409828543087",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "6iQ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "全てのデータをElasticsearchに入れるとなると、概算で$220\/月になりそうです。"
                            }
                        ]
                    }
                ]
            }
        ],
        "thread_ts": "1631800464.029800",
        "reply_count": 1,
        "reply_users_count": 1,
        "latest_reply": "1631804420.030000",
        "reply_users": [
            "UKS1Q2KTQ"
        ],
        "replies": [
            {
                "user": "UKS1Q2KTQ",
                "ts": "1631804420.030000"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1631804420.030000"
    },
    {
        "client_msg_id": "648adcb1-84c5-4d59-b1d9-444c28caf535",
        "type": "message",
        "text": "<@U01KC41PR9C> Thank you! やっぱりそれなりにしますね。現時点ではまだ不要かな。",
        "user": "UKS1Q2KTQ",
        "ts": "1631804420.030000",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "g2cdaa6f0a3e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/72cdaa6f0a3e75d134cc6b97d821b078.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png",
            "first_name": "Yasuhiro",
            "real_name": "Yasuhiro Hashimoto",
            "display_name": "hashimoto",
            "team": "TKS1Q2JUE",
            "name": "yasuhirohashimoto",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "e+xMR",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U01KC41PR9C"
                            },
                            {
                                "type": "text",
                                "text": " Thank you! やっぱりそれなりにしますね。現時点ではまだ不要かな。"
                            }
                        ]
                    }
                ]
            }
        ],
        "thread_ts": "1631800464.029800",
        "parent_user_id": "U01KC41PR9C",
        "reactions": [
            {
                "name": "man-gesturing-ok",
                "users": [
                    "U01KC41PR9C"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "subtype": "channel_name",
        "ts": "1631856626.030500",
        "user": "UKS1Q2KTQ",
        "text": "<@UKS1Q2KTQ> has renamed the channel from \"pj-infodemic\" to \"pj-infodemic-dev\"",
        "old_name": "pj-infodemic",
        "name": "pj-infodemic-dev"
    },
    {
        "client_msg_id": "75a74165-5462-4887-8a9b-019f70f55530",
        "type": "message",
        "text": "<!channel> 主に <@UPSPAP97D> 君が進めてる可視化分析と開発を別チャンネルにしました。ここでは主に開発の話を。",
        "user": "UKS1Q2KTQ",
        "ts": "1631856730.031300",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "g2cdaa6f0a3e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/72cdaa6f0a3e75d134cc6b97d821b078.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png",
            "first_name": "Yasuhiro",
            "real_name": "Yasuhiro Hashimoto",
            "display_name": "hashimoto",
            "team": "TKS1Q2JUE",
            "name": "yasuhirohashimoto",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Nmwh",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "broadcast",
                                "range": "channel"
                            },
                            {
                                "type": "text",
                                "text": " 主に "
                            },
                            {
                                "type": "user",
                                "user_id": "UPSPAP97D"
                            },
                            {
                                "type": "text",
                                "text": " 君が進めてる可視化分析と開発を別チャンネルにしました。ここでは主に開発の話を。"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U01KC41PR9C",
                    "UPSPAP97D"
                ],
                "count": 2
            }
        ]
    },
    {
        "client_msg_id": "366de4c8-ca24-4c23-a1c1-79052f0cb8d9",
        "type": "message",
        "text": "<@U01KC41PR9C> APIについて質問させてください。いまscroll_idを使って順次データを取得するコードを書いてるのですが、よくCORSエラーが出てfetchに失敗します。非同期で複数アクセスをした際や、await fetchを続けて呼んだ際に失敗するような印象ですが、いまいち確信がないです。\n\n例えば\n<https:\/\/observablehq.com\/d\/e489dca1b57d60d1>\nこれの下の方にある point_process というセルで非同期処理をしていますが、実質的にはawaitを挟んで順次APIを呼ぶ形になっています。このpoint_processを呼んでいる Time Series of Eventsでは成功するものの、Time Series of Multiple Events ではCORSエラーで失敗します。\n\nもし、何か心当たりか、Heroku的に作法があれば、お時間のあるときに教えてください。",
        "user": "UKS1Q2KTQ",
        "ts": "1631857196.036900",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "g2cdaa6f0a3e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/72cdaa6f0a3e75d134cc6b97d821b078.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png",
            "first_name": "Yasuhiro",
            "real_name": "Yasuhiro Hashimoto",
            "display_name": "hashimoto",
            "team": "TKS1Q2JUE",
            "name": "yasuhirohashimoto",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "attachments": [
            {
                "title": "Monthly Hashtag Frequency in Twitter",
                "title_link": "https:\/\/observablehq.com\/d\/e489dca1b57d60d1",
                "text": "Tweets vs ReTweets Multiple Trend Time Series of Events Time Series of Multiple Events Appendix for Tweets vs ReTweet for Multiple Trend for Time Series of Events Time Series of Multiple Events",
                "fallback": "Monthly Hashtag Frequency in Twitter",
                "image_url": "https:\/\/static.observableusercontent.com\/thumbnail\/0bcb4ab65bd6be42da151599aac0aae08b33d11080bf59b26420a46cf8383c74.jpg",
                "from_url": "https:\/\/observablehq.com\/d\/e489dca1b57d60d1",
                "image_width": 400,
                "image_height": 250,
                "image_bytes": 26883,
                "service_icon": "https:\/\/observablehq.com\/favicon-512.png",
                "service_name": "observablehq.com",
                "id": 1,
                "original_url": "https:\/\/observablehq.com\/d\/e489dca1b57d60d1"
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "PBx",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U01KC41PR9C"
                            },
                            {
                                "type": "text",
                                "text": " APIについて質問させてください。いまscroll_idを使って順次データを取得するコードを書いてるのですが、よくCORSエラーが出てfetchに失敗します。非同期で複数アクセスをした際や、await fetchを続けて呼んだ際に失敗するような印象ですが、いまいち確信がないです。\n\n例えば\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/observablehq.com\/d\/e489dca1b57d60d1"
                            },
                            {
                                "type": "text",
                                "text": "\nこれの下の方にある point_process というセルで非同期処理をしていますが、実質的にはawaitを挟んで順次APIを呼ぶ形になっています。このpoint_processを呼んでいる Time Series of Eventsでは成功するものの、Time Series of Multiple Events ではCORSエラーで失敗します。\n\nもし、何か心当たりか、Heroku的に作法があれば、お時間のあるときに教えてください。"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "thinking_face",
                "users": [
                    "U01KC41PR9C"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "text": "<@UKS1Q2KTQ> 原因が判明しました。\nHerokuは30秒のタイムアウトが設定されているため、それ以上の処理を強制的に中断しているようです。\n(画像も30000ms経過後に通信が終了しています)\n\n問題の修正にあたりますが、すぐに改善とはいかなそうです。申し訳ありません。",
        "files": [
            {
                "id": "F02ESC2QGCA",
                "created": 1631858929,
                "timestamp": 1631858929,
                "name": "スクリーンショット 2021-09-17 150338.png",
                "title": "スクリーンショット 2021-09-17 150338.png",
                "mimetype": "image\/png",
                "filetype": "png",
                "pretty_type": "PNG",
                "user": "U01KC41PR9C",
                "editable": false,
                "size": 3485,
                "mode": "hosted",
                "is_external": false,
                "external_type": "",
                "is_public": true,
                "public_url_shared": false,
                "display_as_bot": false,
                "username": "",
                "url_private": "https:\/\/files.slack.com\/files-pri\/TKS1Q2JUE-F02ESC2QGCA\/____________________________2021-09-17_150338.png?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                "url_private_download": "https:\/\/files.slack.com\/files-pri\/TKS1Q2JUE-F02ESC2QGCA\/download\/____________________________2021-09-17_150338.png?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                "media_display_type": "unknown",
                "thumb_64": "https:\/\/files.slack.com\/files-tmb\/TKS1Q2JUE-F02ESC2QGCA-4278e61a27\/____________________________2021-09-17_150338_64.png?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                "thumb_80": "https:\/\/files.slack.com\/files-tmb\/TKS1Q2JUE-F02ESC2QGCA-4278e61a27\/____________________________2021-09-17_150338_80.png?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                "thumb_360": "https:\/\/files.slack.com\/files-tmb\/TKS1Q2JUE-F02ESC2QGCA-4278e61a27\/____________________________2021-09-17_150338_360.png?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                "thumb_360_w": 360,
                "thumb_360_h": 39,
                "thumb_480": "https:\/\/files.slack.com\/files-tmb\/TKS1Q2JUE-F02ESC2QGCA-4278e61a27\/____________________________2021-09-17_150338_480.png?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                "thumb_480_w": 480,
                "thumb_480_h": 52,
                "thumb_160": "https:\/\/files.slack.com\/files-tmb\/TKS1Q2JUE-F02ESC2QGCA-4278e61a27\/____________________________2021-09-17_150338_160.png?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                "thumb_720": "https:\/\/files.slack.com\/files-tmb\/TKS1Q2JUE-F02ESC2QGCA-4278e61a27\/____________________________2021-09-17_150338_720.png?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                "thumb_720_w": 720,
                "thumb_720_h": 78,
                "thumb_800": "https:\/\/files.slack.com\/files-tmb\/TKS1Q2JUE-F02ESC2QGCA-4278e61a27\/____________________________2021-09-17_150338_800.png?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                "thumb_800_w": 800,
                "thumb_800_h": 87,
                "original_w": 818,
                "original_h": 89,
                "thumb_tiny": "AwAFADDQ28clvzo2jHVvzp3agdKAE2j1b86No9W\/OlooATaPVvzo2j1P50tFAH\/\/2Q==",
                "permalink": "https:\/\/css-uoa.slack.com\/files\/U01KC41PR9C\/F02ESC2QGCA\/____________________________2021-09-17_150338.png",
                "permalink_public": "https:\/\/slack-files.com\/TKS1Q2JUE-F02ESC2QGCA-ec103850ea",
                "is_starred": false,
                "has_rich_preview": false
            }
        ],
        "upload": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "JIZae",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "UKS1Q2KTQ"
                            },
                            {
                                "type": "text",
                                "text": " 原因が判明しました。\nHerokuは30秒のタイムアウトが設定されているため、それ以上の処理を強制的に中断しているようです。\n(画像も30000ms経過後に通信が終了しています)\n\n問題の修正にあたりますが、すぐに改善とはいかなそうです。申し訳ありません。"
                            }
                        ]
                    }
                ]
            }
        ],
        "user": "U01KC41PR9C",
        "display_as_bot": false,
        "ts": "1631858977.037200",
        "thread_ts": "1631858977.037200",
        "reply_count": 13,
        "reply_users_count": 2,
        "latest_reply": "1631872381.041000",
        "reply_users": [
            "UKS1Q2KTQ",
            "U01KC41PR9C"
        ],
        "replies": [
            {
                "user": "UKS1Q2KTQ",
                "ts": "1631859432.037500"
            },
            {
                "user": "UKS1Q2KTQ",
                "ts": "1631859609.037700"
            },
            {
                "user": "UKS1Q2KTQ",
                "ts": "1631862438.038100"
            },
            {
                "user": "U01KC41PR9C",
                "ts": "1631862924.038500"
            },
            {
                "user": "U01KC41PR9C",
                "ts": "1631863257.038700"
            },
            {
                "user": "UKS1Q2KTQ",
                "ts": "1631863601.038900"
            },
            {
                "user": "U01KC41PR9C",
                "ts": "1631864330.039300"
            },
            {
                "user": "U01KC41PR9C",
                "ts": "1631869022.039800"
            },
            {
                "user": "U01KC41PR9C",
                "ts": "1631869149.040000"
            },
            {
                "user": "UKS1Q2KTQ",
                "ts": "1631869250.040200"
            },
            {
                "user": "UKS1Q2KTQ",
                "ts": "1631870940.040400"
            },
            {
                "user": "UKS1Q2KTQ",
                "ts": "1631871682.040700"
            },
            {
                "user": "U01KC41PR9C",
                "ts": "1631872381.041000"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1631872381.041000"
    },
    {
        "client_msg_id": "c7f9c900-0186-48fb-b877-f1809b76b64b",
        "type": "message",
        "text": "<@U01KC41PR9C> なるほど。再現性が微妙で困惑してました。それでいろいろ合点がいきました。Thank you!",
        "user": "UKS1Q2KTQ",
        "ts": "1631859432.037500",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "g2cdaa6f0a3e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/72cdaa6f0a3e75d134cc6b97d821b078.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png",
            "first_name": "Yasuhiro",
            "real_name": "Yasuhiro Hashimoto",
            "display_name": "hashimoto",
            "team": "TKS1Q2JUE",
            "name": "yasuhirohashimoto",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "g=WuE",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U01KC41PR9C"
                            },
                            {
                                "type": "text",
                                "text": " なるほど。再現性が微妙で困惑してました。それでいろいろ合点がいきました。Thank you!"
                            }
                        ]
                    }
                ]
            }
        ],
        "thread_ts": "1631858977.037200",
        "parent_user_id": "U01KC41PR9C"
    },
    {
        "client_msg_id": "4f9c663f-d097-47ab-8902-49ea69466c04",
        "type": "message",
        "text": "一回で取得するデータの量を減らせばうまくいくのかな。（現状うまくいってるっぽい）",
        "user": "UKS1Q2KTQ",
        "ts": "1631859609.037700",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "g2cdaa6f0a3e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/72cdaa6f0a3e75d134cc6b97d821b078.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png",
            "first_name": "Yasuhiro",
            "real_name": "Yasuhiro Hashimoto",
            "display_name": "hashimoto",
            "team": "TKS1Q2JUE",
            "name": "yasuhirohashimoto",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "edited": {
            "user": "UKS1Q2KTQ",
            "ts": "1631859629.000000"
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "FFYT",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "一回で取得するデータの量を減らせばうまくいくのかな。（現状うまくいってるっぽい）"
                            }
                        ]
                    }
                ]
            }
        ],
        "thread_ts": "1631858977.037200",
        "parent_user_id": "U01KC41PR9C",
        "reactions": [
            {
                "name": "thinking_face",
                "users": [
                    "U01KC41PR9C"
                ],
                "count": 1
            }
        ]
    }
]