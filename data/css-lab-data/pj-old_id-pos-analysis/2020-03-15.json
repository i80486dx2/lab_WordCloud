[
    {
        "client_msg_id": "d75a242d-b668-459c-91f1-f4439d75f72d",
        "type": "message",
        "text": "<@UPSPAMY7M>\nいったん進歩を共有しときます。",
        "user": "UQ47R82RW",
        "ts": "1584264669.009700",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "4caf2ceee850",
            "image_72": "https:\/\/avatars.slack-edge.com\/2019-11-08\/813786533666_4caf2ceee850b8dc5dad_72.png",
            "first_name": "kota",
            "real_name": "kota sanuki",
            "display_name": "kota",
            "team": "TKS1Q2JUE",
            "name": "s1260073",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Yrh",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "UPSPAMY7M"
                            },
                            {
                                "type": "text",
                                "text": "\nいったん進歩を共有しときます。"
                            }
                        ]
                    }
                ]
            }
        ],
        "thread_ts": "1584264669.009700",
        "reply_count": 7,
        "reply_users_count": 2,
        "latest_reply": "1584490471.011700",
        "reply_users": [
            "UQ47R82RW",
            "UPSPAMY7M"
        ],
        "replies": [
            {
                "user": "UQ47R82RW",
                "ts": "1584264924.009800"
            },
            {
                "user": "UQ47R82RW",
                "ts": "1584265082.010200"
            },
            {
                "user": "UPSPAMY7M",
                "ts": "1584277617.010500"
            },
            {
                "user": "UPSPAMY7M",
                "ts": "1584333409.010900"
            },
            {
                "user": "UQ47R82RW",
                "ts": "1584333449.011100"
            },
            {
                "user": "UQ47R82RW",
                "ts": "1584432846.011300"
            },
            {
                "user": "UPSPAMY7M",
                "ts": "1584490471.011700"
            }
        ],
        "is_locked": false,
        "subscribed": false
    },
    {
        "type": "message",
        "text": "今回いったん売り上げと来店頻度でK-meansのクラスタリングを行ってみるということだったので、それようにデータにするために、月ごとのcsvを作成し、エルボー法で良さそうなクラスター数を調べてK-meansしてみました。\nこのあとの方針として、どんな感じで進めていけばいいのかが不透明になってきたのでご意見をいただきたいと思い、共有したしだいです。",
        "files": [
            {
                "id": "F01011SQZ8V",
                "created": 1584264922,
                "timestamp": 1584264922,
                "name": "顧客クラスタリング.ipynb",
                "title": "顧客クラスタリング.ipynb",
                "mimetype": "application\/octet-stream",
                "filetype": "binary",
                "pretty_type": "Binary",
                "user": "UQ47R82RW",
                "editable": false,
                "size": 210535,
                "mode": "hosted",
                "is_external": false,
                "external_type": "",
                "is_public": true,
                "public_url_shared": false,
                "display_as_bot": false,
                "username": "",
                "url_private": "https:\/\/files.slack.com\/files-pri\/TKS1Q2JUE-F01011SQZ8V\/___________________________.ipynb?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                "url_private_download": "https:\/\/files.slack.com\/files-pri\/TKS1Q2JUE-F01011SQZ8V\/download\/___________________________.ipynb?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                "media_display_type": "unknown",
                "permalink": "https:\/\/css-uoa.slack.com\/files\/UQ47R82RW\/F01011SQZ8V\/___________________________.ipynb",
                "permalink_public": "https:\/\/slack-files.com\/TKS1Q2JUE-F01011SQZ8V-3cd1984f65",
                "is_starred": false,
                "has_rich_preview": false
            }
        ],
        "upload": true,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ejfo",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "今回いったん売り上げと来店頻度でK-meansのクラスタリングを行ってみるということだったので、それようにデータにするために、月ごとのcsvを作成し、エルボー法で良さそうなクラスター数を調べてK-meansしてみました。\nこのあとの方針として、どんな感じで進めていけばいいのかが不透明になってきたのでご意見をいただきたいと思い、共有したしだいです。"
                            }
                        ]
                    }
                ]
            }
        ],
        "user": "UQ47R82RW",
        "display_as_bot": false,
        "ts": "1584264924.009800",
        "client_msg_id": "1f090f0c-da88-49b2-8edf-ff6a498bd8fe",
        "thread_ts": "1584264669.009700",
        "parent_user_id": "UQ47R82RW"
    },
    {
        "client_msg_id": "04e1250d-381d-4284-b48c-ff28e694d506",
        "type": "message",
        "text": "どんな風にそれぞれのクラスターの属性分布情報を書き出せばいいのかが分からなくなっています。\n検定としてはどの検定を使えばいいのかなども教えていただけるとありがたいです。",
        "user": "UQ47R82RW",
        "ts": "1584265082.010200",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "4caf2ceee850",
            "image_72": "https:\/\/avatars.slack-edge.com\/2019-11-08\/813786533666_4caf2ceee850b8dc5dad_72.png",
            "first_name": "kota",
            "real_name": "kota sanuki",
            "display_name": "kota",
            "team": "TKS1Q2JUE",
            "name": "s1260073",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "edited": {
            "user": "UQ47R82RW",
            "ts": "1584265270.000000"
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "2qFJ7",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "どんな風にそれぞれのクラスターの属性分布情報を書き出せばいいのかが分からなくなっています。\n検定としてはどの検定を使えばいいのかなども教えていただけるとありがたいです。"
                            }
                        ]
                    }
                ]
            }
        ],
        "thread_ts": "1584264669.009700",
        "parent_user_id": "UQ47R82RW"
    },
    {
        "client_msg_id": "4a2c5a31-0763-41f9-b23e-05e4b2746767",
        "type": "message",
        "text": "<@UQ47R82RW> ありがとうございます。ちょっと添付のソースコードで試してみるのでお待ちください。\n希望的観測ですが、特定の曜日に高頻度に来店しているクラスターに分布してくれるとかだと嬉しいところです。\nまた、クラスターごとの特定曜日における来店頻度はTukey-Kramer法で有意な結果が出ればいいんですが、ANOVAを使って多群間の差が無いことを棄却できるだけでもいいです。",
        "user": "UPSPAMY7M",
        "ts": "1584277617.010500",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "b3edf66a5d2f",
            "image_72": "https:\/\/avatars.slack-edge.com\/2019-11-05\/810115393635_b3edf66a5d2f9b4ceae4_72.jpg",
            "first_name": "畠　圭佑",
            "real_name": "畠　圭佑",
            "display_name": "hata",
            "team": "TKS1Q2JUE",
            "name": "hata",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "x4a",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "UQ47R82RW"
                            },
                            {
                                "type": "text",
                                "text": " ありがとうございます。ちょっと添付のソースコードで試してみるのでお待ちください。\n希望的観測ですが、特定の曜日に高頻度に来店しているクラスターに分布してくれるとかだと嬉しいところです。\nまた、クラスターごとの特定曜日における来店頻度はTukey-Kramer法で有意な結果が出ればいいんですが、ANOVAを使って多群間の差が無いことを棄却できるだけでもいいです。"
                            }
                        ]
                    }
                ]
            }
        ],
        "thread_ts": "1584264669.009700",
        "parent_user_id": "UQ47R82RW"
    },
    {
        "client_msg_id": "e5152a52-49a4-48dc-8e0a-611952742a03",
        "type": "message",
        "text": "いえいえ、共有ありがとうございます。ちょっとこちらでも動かしてみます。",
        "user": "UPSPAMY7M",
        "ts": "1584278517.010700",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "b3edf66a5d2f",
            "image_72": "https:\/\/avatars.slack-edge.com\/2019-11-05\/810115393635_b3edf66a5d2f9b4ceae4_72.jpg",
            "first_name": "畠　圭佑",
            "real_name": "畠　圭佑",
            "display_name": "hata",
            "team": "TKS1Q2JUE",
            "name": "hata",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "RsnZC",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "いえいえ、共有ありがとうございます。ちょっとこちらでも動かしてみます。"
                            }
                        ]
                    }
                ]
            }
        ],
        "thread_ts": "1583976669.003400",
        "parent_user_id": "UPSPAMY7M"
    },
    {
        "client_msg_id": "edba9831-38f6-405f-a741-d35fa079830d",
        "type": "message",
        "text": "<@UQ47R82RW> ようやく見れました。細かく結果も説明入れてくれてありがとうございます。やっぱりそのままクラスタリングすると購入額が強烈に効いてくるんですね。。これだと単に購入額別購買層になるので、\n\nちょっとクラスターの属性の前に試して欲しいんですが、\n\n１）母集団を月間購入額10000円〜100000万円の顧客に限定する（これが飲食店関係者を抜いたロイヤルカスタマー層・・・と思われる）\n\n２）購入額 - 来店頻度の散布図の軸について\n２−１）購入額 → 母集団中の顧客の合計購入額での最大額を分母とし、店舗別購入額指標 (= 合計購入額\/その店舗の母集団中の最大合計購入額）とする。分母が店舗依存の指標なので一時的なものとする。\n\n２−２）来店頻度　→　その月の日数で来店頻度を割る月々の来店率 (= 来店回数\/３０日）とする。\n\nこれで分布の形状が変わってクラスターされた顧客層の意味合いが変わるかもしれません。ちょっとこちらやってもらっていいですか？",
        "user": "UPSPAMY7M",
        "ts": "1584333409.010900",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "b3edf66a5d2f",
            "image_72": "https:\/\/avatars.slack-edge.com\/2019-11-05\/810115393635_b3edf66a5d2f9b4ceae4_72.jpg",
            "first_name": "畠　圭佑",
            "real_name": "畠　圭佑",
            "display_name": "hata",
            "team": "TKS1Q2JUE",
            "name": "hata",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "SO9\/G",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "UQ47R82RW"
                            },
                            {
                                "type": "text",
                                "text": " ようやく見れました。細かく結果も説明入れてくれてありがとうございます。やっぱりそのままクラスタリングすると購入額が強烈に効いてくるんですね。。これだと単に購入額別購買層になるので、\n\nちょっとクラスターの属性の前に試して欲しいんですが、\n\n１）母集団を月間購入額10000円〜100000万円の顧客に限定する（これが飲食店関係者を抜いたロイヤルカスタマー層・・・と思われる）\n\n２）購入額 - 来店頻度の散布図の軸について\n２−１）購入額 → 母集団中の顧客の合計購入額での最大額を分母とし、店舗別購入額指標 (= 合計購入額\/その店舗の母集団中の最大合計購入額）とする。分母が店舗依存の指標なので一時的なものとする。\n\n２−２）来店頻度　→　その月の日数で来店頻度を割る月々の来店率 (= 来店回数\/３０日）とする。\n\nこれで分布の形状が変わってクラスターされた顧客層の意味合いが変わるかもしれません。ちょっとこちらやってもらっていいですか？"
                            }
                        ]
                    }
                ]
            }
        ],
        "thread_ts": "1584264669.009700",
        "parent_user_id": "UQ47R82RW"
    },
    {
        "client_msg_id": "1e95f34f-4198-47f8-a040-b6a61fb44d38",
        "type": "message",
        "text": "わかりました。やってみます！",
        "user": "UQ47R82RW",
        "ts": "1584333449.011100",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "4caf2ceee850",
            "image_72": "https:\/\/avatars.slack-edge.com\/2019-11-08\/813786533666_4caf2ceee850b8dc5dad_72.png",
            "first_name": "kota",
            "real_name": "kota sanuki",
            "display_name": "kota",
            "team": "TKS1Q2JUE",
            "name": "s1260073",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "iUdTa",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "わかりました。やってみます！"
                            }
                        ]
                    }
                ]
            }
        ],
        "thread_ts": "1584264669.009700",
        "parent_user_id": "UQ47R82RW"
    }
]