[
    {
        "client_msg_id": "4CF234B9-CC6F-41E1-BF9E-0613B7C50368",
        "type": "message",
        "text": "自分のやったときは、メッシュごとにユーザーをカウントしたので、道の方が高くなる傾向になっていましたね。",
        "user": "UKH07E67M",
        "ts": "1597043355.213900",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "42b0524c15ef",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-12-22\/1589400144565_42b0524c15efa13345bf_72.png",
            "first_name": "Aoshi",
            "real_name": "Aoshi Suzuki",
            "display_name": "aoshi",
            "team": "TKS1Q2JUE",
            "name": "s1260241",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "IjPXs",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "自分のやったときは、メッシュごとにユーザーをカウントしたので、道の方が高くなる傾向になっていましたね。"
                            }
                        ]
                    }
                ]
            }
        ],
        "thread_ts": "1597033709.209300",
        "parent_user_id": "UPRE1RSJW"
    },
    {
        "client_msg_id": "9F7728A1-D1C7-4427-92BF-E6D45000FF7B",
        "type": "message",
        "text": "まず、扱ってるデータが2019年5月3日の県外から訪れた人のデータになっています。そして単純にメッシュ内のレコード数をカウントしています。",
        "user": "UPRE1RSJW",
        "ts": "1597043433.214400",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "0620fad631b1",
            "image_72": "https:\/\/avatars.slack-edge.com\/2019-11-04\/822570536406_0620fad631b132a16d69_72.png",
            "first_name": "s1260220",
            "real_name": "s1260220 Sukegawa",
            "display_name": "sukegawa",
            "team": "TKS1Q2JUE",
            "name": "s1260220",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "kz7uR",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "まず、扱ってるデータが2019年5月3日の県外から訪れた人のデータになっています。そして単純にメッシュ内のレコード数をカウントしています。"
                            }
                        ]
                    }
                ]
            }
        ],
        "thread_ts": "1597033709.209300",
        "parent_user_id": "UPRE1RSJW"
    },
    {
        "client_msg_id": "3ea09771-8722-404a-aeaa-927c455423fd",
        "type": "message",
        "text": "<@UPRE1RSJW> <@UKH07E67M> レコード数だから滞在箇所をうまく捉えてるという感じなんですかね。だとすると、メッシュ内の人数をユニークユーザ数で評価する場合は、「5分以上滞在したケースのみカウント」のようにしないと、変な結果（道路沿いに集中）になってしまうのかな。",
        "user": "UKS1Q2KTQ",
        "ts": "1597043583.214600",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "g2cdaa6f0a3e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/72cdaa6f0a3e75d134cc6b97d821b078.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png",
            "first_name": "Yasuhiro",
            "real_name": "Yasuhiro Hashimoto",
            "display_name": "hashimoto",
            "team": "TKS1Q2JUE",
            "name": "yasuhirohashimoto",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Dc=",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "UPRE1RSJW"
                            },
                            {
                                "type": "text",
                                "text": " "
                            },
                            {
                                "type": "user",
                                "user_id": "UKH07E67M"
                            },
                            {
                                "type": "text",
                                "text": " レコード数だから滞在箇所をうまく捉えてるという感じなんですかね。だとすると、メッシュ内の人数をユニークユーザ数で評価する場合は、「5分以上滞在したケースのみカウント」のようにしないと、変な結果（道路沿いに集中）になってしまうのかな。"
                            }
                        ]
                    }
                ]
            }
        ],
        "thread_ts": "1597033709.209300",
        "parent_user_id": "UPRE1RSJW",
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "UPRE1RSJW"
                ],
                "count": 1
            }
        ]
    },
    {
        "client_msg_id": "416cfb30-291b-4ad3-8901-9aec515d3bfd",
        "type": "message",
        "text": "<@UQ47R82RW> 君にスポット間の人の移動ネットワークを作ってもらったときには「5分以上滞在」を条件にしました。",
        "user": "UKS1Q2KTQ",
        "ts": "1597043639.214800",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "g2cdaa6f0a3e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/72cdaa6f0a3e75d134cc6b97d821b078.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png",
            "first_name": "Yasuhiro",
            "real_name": "Yasuhiro Hashimoto",
            "display_name": "hashimoto",
            "team": "TKS1Q2JUE",
            "name": "yasuhirohashimoto",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "T2dlM",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "UQ47R82RW"
                            },
                            {
                                "type": "text",
                                "text": " 君にスポット間の人の移動ネットワークを作ってもらったときには「5分以上滞在」を条件にしました。"
                            }
                        ]
                    }
                ]
            }
        ],
        "thread_ts": "1597033709.209300",
        "parent_user_id": "UPRE1RSJW"
    },
    {
        "client_msg_id": "9c3aafe9-0b3a-4fb8-a28a-f327be578b41",
        "type": "message",
        "text": "やはりstaytimeを絡めて作るべきでした。",
        "user": "UKH07E67M",
        "ts": "1597045007.215100",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "42b0524c15ef",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-12-22\/1589400144565_42b0524c15efa13345bf_72.png",
            "first_name": "Aoshi",
            "real_name": "Aoshi Suzuki",
            "display_name": "aoshi",
            "team": "TKS1Q2JUE",
            "name": "s1260241",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "g9UdH",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "やはりstaytimeを絡めて作るべきでした。"
                            }
                        ]
                    }
                ]
            }
        ],
        "thread_ts": "1597033709.209300",
        "parent_user_id": "UPRE1RSJW"
    },
    {
        "client_msg_id": "61949479-7529-47ea-9318-fe567aea5e63",
        "type": "message",
        "text": "<@UKH07E67M> まぁ、用途次第なので、あれはあれでデモとしてはよいですよ。",
        "user": "UKS1Q2KTQ",
        "ts": "1597045097.215300",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "g2cdaa6f0a3e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/72cdaa6f0a3e75d134cc6b97d821b078.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png",
            "first_name": "Yasuhiro",
            "real_name": "Yasuhiro Hashimoto",
            "display_name": "hashimoto",
            "team": "TKS1Q2JUE",
            "name": "yasuhirohashimoto",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "knD",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "UKH07E67M"
                            },
                            {
                                "type": "text",
                                "text": " まぁ、用途次第なので、あれはあれでデモとしてはよいですよ。"
                            }
                        ]
                    }
                ]
            }
        ],
        "thread_ts": "1597033709.209300",
        "parent_user_id": "UPRE1RSJW",
        "reactions": [
            {
                "name": "man-bowing",
                "users": [
                    "UKH07E67M"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "text": "簡単にインタラクティブなグラフが作れるライブラリがないか探してみたところ、pyvizというライブラリがあったのでやってみました。\n一応networkxから変換もあるっぽいんですが、エラーがあったので変換用の関数も作成したのでの載せます。\n\n手軽に視覚化したいときに便利かも？\n\n```def nx2vis(G):\n    from pyvis.network import Network\n    c=0\n    dic={}\n    pyvis_G = Network(\"700px\", \"700px\",directed=True)\n    for s,t in G.edges():\n        if(s not in dic.keys()):\n            pyvis_G.add_node(c,label=s)\n            dic[s]=c\n            c+=1\n        if(t not in dic.keys()):\n            pyvis_G.add_node(c,label=t)\n            dic[t]=c\n            c+=1\n        \n        pyvis_G.add_edge(dic[s],dic[t],weight=G[s][t][\"weight\"],title=G[s][t][\"weight\"])\n    pyvis_G.show_buttons(filter_=['physics'])\n    pyvis_G.show(\"graph.html\")```\n",
        "files": [
            {
                "id": "F018L5Y9P0B",
                "created": 1597077159,
                "timestamp": 1597077159,
                "name": "graph.html",
                "title": "graph.html",
                "mimetype": "text\/plain",
                "filetype": "html",
                "pretty_type": "HTML",
                "user": "UQ47R82RW",
                "editable": true,
                "size": 35226,
                "mode": "snippet",
                "is_external": false,
                "external_type": "",
                "is_public": true,
                "public_url_shared": false,
                "display_as_bot": false,
                "username": "",
                "url_private": "https:\/\/files.slack.com\/files-pri\/TKS1Q2JUE-F018L5Y9P0B\/graph.html?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                "url_private_download": "https:\/\/files.slack.com\/files-pri\/TKS1Q2JUE-F018L5Y9P0B\/download\/graph.html?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                "permalink": "https:\/\/css-uoa.slack.com\/files\/UQ47R82RW\/F018L5Y9P0B\/graph.html",
                "permalink_public": "https:\/\/slack-files.com\/TKS1Q2JUE-F018L5Y9P0B-785bca415b",
                "edit_link": "https:\/\/css-uoa.slack.com\/files\/UQ47R82RW\/F018L5Y9P0B\/graph.html\/edit",
                "is_starred": false,
                "has_rich_preview": false
            }
        ],
        "upload": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "d1q",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "簡単にインタラクティブなグラフが作れるライブラリがないか探してみたところ、pyvizというライブラリがあったのでやってみました。\n一応networkxから変換もあるっぽいんですが、エラーがあったので変換用の関数も作成したのでの載せます。\n\n手軽に視覚化したいときに便利かも？\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "def nx2vis(G):\n    from pyvis.network import Network\n    c=0\n    dic={}\n    pyvis_G = Network(\"700px\", \"700px\",directed=True)\n    for s,t in G.edges():\n        if(s not in dic.keys()):\n            pyvis_G.add_node(c,label=s)\n            dic[s]=c\n            c+=1\n        if(t not in dic.keys()):\n            pyvis_G.add_node(c,label=t)\n            dic[t]=c\n            c+=1\n        \n        pyvis_G.add_edge(dic[s],dic[t],weight=G[s][t][\"weight\"],title=G[s][t][\"weight\"])\n    pyvis_G.show_buttons(filter_=['physics'])\n    pyvis_G.show(\"graph.html\")"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": []
                    }
                ]
            }
        ],
        "user": "UQ47R82RW",
        "display_as_bot": false,
        "ts": "1597077349.215700",
        "edited": {
            "user": "UQ47R82RW",
            "ts": "1597077366.000000"
        },
        "thread_ts": "1596276760.185300",
        "parent_user_id": "UQ47R82RW",
        "subtype": "thread_broadcast",
        "root": {
            "type": "message",
            "text": "<@UKS1Q2KTQ>\ngraph-toolで日本語化できないか、試したところなぜか今度は日本語にすることができました。\nfontに日本語fontをいれて、それを\ngraph_draw(….,vertex_font_family=“Font名“,…..)\nでやってみたらできました。\n前回も同じことやったはずなんですが、できなかったのでなんで今回できたのか不明です。",
            "files": [
                {
                    "id": "F017XBVQESJ",
                    "created": 1596276746,
                    "timestamp": 1596276746,
                    "name": "20195.pdf",
                    "title": "20195.pdf",
                    "mimetype": "application\/pdf",
                    "filetype": "pdf",
                    "pretty_type": "PDF",
                    "user": "UQ47R82RW",
                    "editable": false,
                    "size": 422357,
                    "mode": "hosted",
                    "is_external": false,
                    "external_type": "",
                    "is_public": true,
                    "public_url_shared": false,
                    "display_as_bot": false,
                    "username": "",
                    "url_private": "https:\/\/files.slack.com\/files-pri\/TKS1Q2JUE-F017XBVQESJ\/20195.pdf?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                    "url_private_download": "https:\/\/files.slack.com\/files-pri\/TKS1Q2JUE-F017XBVQESJ\/download\/20195.pdf?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                    "media_display_type": "unknown",
                    "thumb_pdf": "https:\/\/files.slack.com\/files-tmb\/TKS1Q2JUE-F017XBVQESJ-9f7231e1d0\/20195_thumb_pdf.png?t=xoxe-672058086966-2523672994084-2517456103667-564347be5337331371fc88513b8caa70",
                    "thumb_pdf_w": 3056,
                    "thumb_pdf_h": 2532,
                    "permalink": "https:\/\/css-uoa.slack.com\/files\/UQ47R82RW\/F017XBVQESJ\/20195.pdf",
                    "permalink_public": "https:\/\/slack-files.com\/TKS1Q2JUE-F017XBVQESJ-e204e47361",
                    "is_starred": false,
                    "has_rich_preview": false
                }
            ],
            "upload": false,
            "blocks": [
                {
                    "type": "rich_text",
                    "block_id": "ufbru",
                    "elements": [
                        {
                            "type": "rich_text_section",
                            "elements": [
                                {
                                    "type": "user",
                                    "user_id": "UKS1Q2KTQ"
                                },
                                {
                                    "type": "text",
                                    "text": "\ngraph-toolで日本語化できないか、試したところなぜか今度は日本語にすることができました。\nfontに日本語fontをいれて、それを\ngraph_draw(….,vertex_font_family=“Font名“,…..)\nでやってみたらできました。\n前回も同じことやったはずなんですが、できなかったのでなんで今回できたのか不明です。"
                                }
                            ]
                        }
                    ]
                }
            ],
            "user": "UQ47R82RW",
            "display_as_bot": false,
            "ts": "1596276760.185300",
            "thread_ts": "1596276760.185300",
            "reply_count": 9,
            "reply_users_count": 2,
            "latest_reply": "1597082532.216300",
            "reply_users": [
                "UKS1Q2KTQ",
                "UQ47R82RW"
            ],
            "replies": [
                {
                    "user": "UKS1Q2KTQ",
                    "ts": "1596277015.185600"
                },
                {
                    "user": "UQ47R82RW",
                    "ts": "1596277027.185800"
                },
                {
                    "user": "UKS1Q2KTQ",
                    "ts": "1596277063.186000"
                },
                {
                    "user": "UQ47R82RW",
                    "ts": "1596277073.186200"
                },
                {
                    "user": "UQ47R82RW",
                    "ts": "1596277708.186400"
                },
                {
                    "user": "UKS1Q2KTQ",
                    "ts": "1596278373.186800"
                },
                {
                    "user": "UQ47R82RW",
                    "ts": "1596283391.187000"
                },
                {
                    "user": "UQ47R82RW",
                    "ts": "1597077349.215700"
                },
                {
                    "user": "UKS1Q2KTQ",
                    "ts": "1597082532.216300"
                }
            ],
            "is_locked": false,
            "subscribed": true,
            "last_read": "1597082532.216300"
        },
        "reactions": [
            {
                "name": "thinking_face",
                "users": [
                    "UPSPAP97D"
                ],
                "count": 1
            }
        ]
    },
    {
        "client_msg_id": "76bf5448-3ea4-4a9e-b5cb-4f6f78c8a35d",
        "type": "message",
        "text": "<@UQ47R82RW> これ使うくらいならこの前作ったこっちの方がよくない？ｗ\n<https:\/\/observablehq.com\/d\/522e0b32cf9d4651>\n（タブ区切りのエッジリストをコピペするだけで描画できるよ）",
        "user": "UKS1Q2KTQ",
        "ts": "1597082532.216300",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "g2cdaa6f0a3e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/72cdaa6f0a3e75d134cc6b97d821b078.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png",
            "first_name": "Yasuhiro",
            "real_name": "Yasuhiro Hashimoto",
            "display_name": "hashimoto",
            "team": "TKS1Q2JUE",
            "name": "yasuhirohashimoto",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "attachments": [
            {
                "title": "Copipe Graph Viewer",
                "title_link": "https:\/\/observablehq.com\/d\/522e0b32cf9d4651",
                "text": "An Observable notebook by Hashimoto, Yasuhiro.",
                "fallback": "Copipe Graph Viewer",
                "image_url": "https:\/\/static.observableusercontent.com\/thumbnail\/963ada1f48e62cb1c989fc7e45728d0c513f37b5117dacdedc331724443e807c.jpg",
                "ts": 1596616151,
                "from_url": "https:\/\/observablehq.com\/d\/522e0b32cf9d4651",
                "image_width": 400,
                "image_height": 250,
                "image_bytes": 68652,
                "service_icon": "https:\/\/static.observablehq.com\/favicon-512.e85350a27dfadeea7c7c78c797c24419525df5579de174d86d258c40ae57473a.png",
                "service_name": "observablehq.com",
                "id": 1,
                "original_url": "https:\/\/observablehq.com\/d\/522e0b32cf9d4651"
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "0Yt2",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "UQ47R82RW"
                            },
                            {
                                "type": "text",
                                "text": " これ使うくらいならこの前作ったこっちの方がよくない？ｗ\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/observablehq.com\/d\/522e0b32cf9d4651"
                            },
                            {
                                "type": "text",
                                "text": "\n（タブ区切りのエッジリストをコピペするだけで描画できるよ）"
                            }
                        ]
                    }
                ]
            }
        ],
        "thread_ts": "1596276760.185300",
        "parent_user_id": "UQ47R82RW",
        "reactions": [
            {
                "name": "innocent",
                "users": [
                    "UQ47R82RW"
                ],
                "count": 1
            },
            {
                "name": "angel",
                "users": [
                    "UKH07E67M"
                ],
                "count": 1
            }
        ]
    }
]