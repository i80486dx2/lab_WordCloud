[
    {
        "client_msg_id": "7cfaf0ff-dc65-4d0a-a139-0050b0907131",
        "type": "message",
        "text": "<@UKH07E67M> <@UKUKA65GU> DBから抽出した spv_attenir_in_topicComment.tsv を集計して気が付いたのですが、コメントの中で original_topic_id が指すトピックが存在しないケースがあります。例えば 1100208559414 というトピックIDに対するコメントがたくさんあるのですが、等のトピックそのものがないのはなぜだろう？",
        "user": "UKS1Q2KTQ",
        "ts": "1593849341.011200",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "g2cdaa6f0a3e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/72cdaa6f0a3e75d134cc6b97d821b078.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png",
            "first_name": "Yasuhiro",
            "real_name": "Yasuhiro Hashimoto",
            "display_name": "hashimoto",
            "team": "TKS1Q2JUE",
            "name": "yasuhirohashimoto",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Z01T",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "UKH07E67M"
                            },
                            {
                                "type": "text",
                                "text": " "
                            },
                            {
                                "type": "user",
                                "user_id": "UKUKA65GU"
                            },
                            {
                                "type": "text",
                                "text": " DBから抽出した spv_attenir_in_topicComment.tsv を集計して気が付いたのですが、コメントの中で original_topic_id が指すトピックが存在しないケースがあります。例えば 1100208559414 というトピックIDに対するコメントがたくさんあるのですが、等のトピックそのものがないのはなぜだろう？"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "client_msg_id": "96578302-9da6-4646-8590-9bf77398c54e",
        "type": "message",
        "text": "なるほどそんなことが…\nparent_comment_idとoriginal_topic_idの差異が自分の中ではっきりしていないことが関係しているのかなとも思います。\n\n・ parent_comment_id 親コメント(1コメント)のID\n・ original_topic_id コメントをつけたトピックのID\n\n現在このように分けていて、自信もあるのですが、\nもう一度確認してみます。",
        "user": "UKH07E67M",
        "ts": "1593851548.013700",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "42b0524c15ef",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-12-22\/1589400144565_42b0524c15efa13345bf_72.png",
            "first_name": "Aoshi",
            "real_name": "Aoshi Suzuki",
            "display_name": "aoshi",
            "team": "TKS1Q2JUE",
            "name": "s1260241",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "YJwd",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "なるほどそんなことが…\nparent_comment_idとoriginal_topic_idの差異が自分の中ではっきりしていないことが関係しているのかなとも思います。\n\n・ parent_comment_id 親コメント(1コメント)のID\n・ original_topic_id コメントをつけたトピックのID\n\n現在このように分けていて、自信もあるのですが、\nもう一度確認してみます。"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "client_msg_id": "8d7af91d-bbb5-4dab-ba0d-93a2f20c205d",
        "type": "message",
        "text": "それであってると思います。",
        "user": "UKS1Q2KTQ",
        "ts": "1593851575.014000",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "g2cdaa6f0a3e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/72cdaa6f0a3e75d134cc6b97d821b078.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png",
            "first_name": "Yasuhiro",
            "real_name": "Yasuhiro Hashimoto",
            "display_name": "hashimoto",
            "team": "TKS1Q2JUE",
            "name": "yasuhirohashimoto",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Ysk1",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "それであってると思います。"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "client_msg_id": "F2E46528-71F9-4E83-A5CC-47F0C532DD49",
        "type": "message",
        "text": "これって親コメントを削除してもデータは残るんですかね...?\nTwitterとかだと、親コメントを消すとそこの子コメントは残るけどその上の親コメントはみれないみたいな...",
        "user": "UKUKA65GU",
        "ts": "1593851629.015700",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "2ca49c115fb9",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-08-18\/1300148995014_2ca49c115fb95a7e9654_72.png",
            "first_name": "Sota",
            "real_name": "Sota Chiba",
            "display_name": "sota",
            "team": "TKS1Q2JUE",
            "name": "s1260180",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "OfL",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "これって親コメントを削除してもデータは残るんですかね...?\n"
                            },
                            {
                                "type": "text",
                                "text": "Twitterとかだと、親コメントを消すとそこの子コメントは残るけどその上の親コメントはみれないみたいな..."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "client_msg_id": "6935a51c-1b95-4b52-9c78-0cb467cb2a36",
        "type": "message",
        "text": "そういうことかなとも思ってるんですが、実際にはDBからは消さずにフラグで表示しないようにしていることも多いので、どうなのかなぁと。",
        "user": "UKS1Q2KTQ",
        "ts": "1593851679.016500",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "g2cdaa6f0a3e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/72cdaa6f0a3e75d134cc6b97d821b078.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png",
            "first_name": "Yasuhiro",
            "real_name": "Yasuhiro Hashimoto",
            "display_name": "hashimoto",
            "team": "TKS1Q2JUE",
            "name": "yasuhirohashimoto",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "edited": {
            "user": "UKS1Q2KTQ",
            "ts": "1593851708.000000"
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "qi=",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "そういうことかなとも思ってるんですが、実際にはDBからは消さずにフラグで表示しないようにしていることも多いので、どうなのかなぁと。"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "client_msg_id": "b76e2d58-b56f-4f3a-af29-e88aa5895988",
        "type": "message",
        "text": "この問題は、DBから一度登録されたoriginal id が消えること、またはそもそも登録されていない(dbに残る前に削除したなんてことあるのかわかりませんが。)のいずれかですよね。\nもしくは根本的にspv_attenir_in_topicComment.tsvの抽出をミスっているか。",
        "user": "UKH07E67M",
        "ts": "1593851999.019600",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "42b0524c15ef",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-12-22\/1589400144565_42b0524c15efa13345bf_72.png",
            "first_name": "Aoshi",
            "real_name": "Aoshi Suzuki",
            "display_name": "aoshi",
            "team": "TKS1Q2JUE",
            "name": "s1260241",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "OUca",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "この問題は、DBから一度登録されたoriginal id が消えること、またはそもそも登録されていない(dbに残る前に削除したなんてことあるのかわかりませんが。)のいずれかですよね。\nもしくは根本的にspv_attenir_in_topicComment.tsvの抽出をミスっているか。"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "client_msg_id": "da902e1a-1061-4a51-a150-851c885c41f5",
        "type": "message",
        "text": "DBの中身を見てみるのが早いと思うので、週明けにでも一緒にちょっと確認してみましょうか。",
        "user": "UKS1Q2KTQ",
        "ts": "1593852045.020200",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "g2cdaa6f0a3e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/72cdaa6f0a3e75d134cc6b97d821b078.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png",
            "first_name": "Yasuhiro",
            "real_name": "Yasuhiro Hashimoto",
            "display_name": "hashimoto",
            "team": "TKS1Q2JUE",
            "name": "yasuhirohashimoto",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "YSZY",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "DBの中身を見てみるのが早いと思うので、週明けにでも一緒にちょっと確認してみましょうか。"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "client_msg_id": "7e3ea099-e371-4fd9-bac5-78bce067186b",
        "type": "message",
        "text": "はい",
        "user": "UKH07E67M",
        "ts": "1593852066.020400",
        "team": "TKS1Q2JUE",
        "user_team": "TKS1Q2JUE",
        "source_team": "TKS1Q2JUE",
        "user_profile": {
            "avatar_hash": "42b0524c15ef",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-12-22\/1589400144565_42b0524c15efa13345bf_72.png",
            "first_name": "Aoshi",
            "real_name": "Aoshi Suzuki",
            "display_name": "aoshi",
            "team": "TKS1Q2JUE",
            "name": "s1260241",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "c95",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "はい"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]